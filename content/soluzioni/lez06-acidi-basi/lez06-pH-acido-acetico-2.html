<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Esame 9 - Quesito 8: pH acido acetico</title>
    <style>
        body { font-family: Georgia, serif; max-width: 800px; margin: 40px auto; padding: 20px; line-height: 1.8; }
        h1 { color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        h2 { color: #2980b9; margin-top: 30px; }
        .question { background: #ecf0f1; padding: 15px; border-left: 4px solid #3498db; margin: 20px 0; }
        .result { background: #d5f5e3; padding: 15px; border-left: 4px solid #27ae60; margin: 20px 0; font-weight: bold; font-size: 1.1em; }
        .formula { background: #fdebd0; padding: 10px; margin: 10px 0; font-family: monospace; }
        .step { background: #e8f6f3; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .note { background: #fef9e7; padding: 12px; border-left: 4px solid #f1c40f; margin: 15px 0; }
        .important { color: #c0392b; font-weight: bold; }
    
    .done-buttons {
        display: flex;
        gap: 10px;
        align-items: center;
    }
    .mark-btn {
        padding: 12px 24px;
        font-size: 1em;
        font-weight: bold;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .mark-done {
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
    }
    .mark-done:hover, .mark-done.selected {
        background: linear-gradient(135deg, #1e7e34, #17a085);
        transform: scale(1.05);
    }
    .mark-review {
        background: linear-gradient(135deg, #ffc107, #fd7e14);
        color: white;
    }
    .mark-review:hover, .mark-review.selected {
        background: linear-gradient(135deg, #d39e00, #dc6502);
        transform: scale(1.05);
    }
    .mark-reset {
        background: #6c757d;
        color: white;
    }
    .mark-reset:hover {
        background: #545b62;
    }
    .mark-btn.selected {
        box-shadow: 0 0 0 3px rgba(0,0,0,0.2);
    }
</style>

<style>
    .quiz-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        padding-bottom: 120px;
    }
    .question-section {
        background: linear-gradient(135deg, #e8f4f8 0%, #d4edda 100%);
        border: 2px solid #17a2b8;
        border-radius: 10px;
        padding: 25px;
        margin-bottom: 20px;
    }
    .question-section h2 {
        color: #0c5460;
        margin-top: 0;
        margin-bottom: 15px;
    }
    .show-next-btn {
        display: block;
        width: 100%;
        padding: 15px 30px;
        font-size: 1.1em;
        font-weight: bold;
        color: white;
        background: linear-gradient(135deg, #007bff, #0056b3);
        border: none;
        border-radius: 8px;
        cursor: pointer;
        margin: 15px 0;
        transition: all 0.3s ease;
    }
    .show-next-btn:hover {
        background: linear-gradient(135deg, #0056b3, #004094);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 123, 255, 0.4);
    }
    .show-all-btn {
        background: linear-gradient(135deg, #28a745, #20c997);
        margin-top: 10px;
    }
    .show-all-btn:hover {
        background: linear-gradient(135deg, #218838, #1db385);
        box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
    }
    .step-container {
        display: none;
        animation: fadeIn 0.5s ease;
        margin-bottom: 20px;
        border: 1px solid #dee2e6;
        border-radius: 10px;
        overflow: hidden;
    }
    .step-container.visible {
        display: block;
    }
    .step-header {
        background: linear-gradient(135deg, #6c757d, #495057);
        color: white;
        padding: 12px 20px;
        font-weight: bold;
        display: flex;
        align-items: center;
    }
    .step-number-badge {
        background: white;
        color: #495057;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
        font-weight: bold;
    }
    .step-content {
        padding: 20px;
        background: white;
    }
    .progress-bar {
        background: #e9ecef;
        border-radius: 10px;
        height: 8px;
        margin: 15px 0;
        overflow: hidden;
    }
    .progress-fill {
        background: linear-gradient(90deg, #28a745, #20c997);
        height: 100%;
        border-radius: 10px;
        transition: width 0.5s ease;
    }
    .progress-text {
        text-align: center;
        color: #6c757d;
        font-size: 0.9em;
        margin-bottom: 15px;
    }
    .controls {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        padding: 15px 20px;
        border-top: 2px solid #dee2e6;
        box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
        z-index: 1000;
        display: flex;
        gap: 10px;
        justify-content: center;
    }
    .quiz-container {
        padding-bottom: 100px;
    }
    .show-next-btn {
        width: auto;
        margin: 0;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .final-answer {
        background: #d4edda;
        border: 2px solid #28a745;
        border-radius: 10px;
        padding: 20px;
        margin-top: 20px;
    }
    .final-answer h3 {
        color: #155724;
        margin-top: 0;
    }

    .done-buttons {
        display: flex;
        gap: 10px;
        align-items: center;
    }
    .mark-btn {
        padding: 12px 24px;
        font-size: 1em;
        font-weight: bold;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .mark-done {
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
    }
    .mark-done:hover, .mark-done.selected {
        background: linear-gradient(135deg, #1e7e34, #17a085);
        transform: scale(1.05);
    }
    .mark-review {
        background: linear-gradient(135deg, #ffc107, #fd7e14);
        color: white;
    }
    .mark-review:hover, .mark-review.selected {
        background: linear-gradient(135deg, #d39e00, #dc6502);
        transform: scale(1.05);
    }
    .mark-reset {
        background: #6c757d;
        color: white;
    }
    .mark-reset:hover {
        background: #545b62;
    }
    .mark-btn.selected {
        box-shadow: 0 0 0 3px rgba(0,0,0,0.2);
    }
</style>
</head>
<body>
<div class="quiz-container">
    <h1>Esame 9 - Quesito 8</h1>

    <div class="question-section">
        <h2>Testo dell'esercizio</h2>
        <p>Calcolare quanti grammi di acido acetico sono necessari per preparare 1 litro di soluzione acquosa di acido acetico a pH 3,5.<br><br><strong>Dati:</strong> Ka(CH<sub>3</sub>COOH) = 1,8 x 10<sup>-5</sup>, MM(CH<sub>3</sub>COOH) = 60 g/mol</p>
    </div>

    <div class="progress-text" id="progress-text">Passaggio 0 di 9</div>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
    </div>

    <div class="controls">
        <button id="next-btn" class="show-next-btn" onclick="showNextStep()">
            ▶ Prossimo passaggio
        </button>
        <button id="all-btn" class="show-next-btn show-all-btn" onclick="showAllSteps()">
            ⏩ Mostra tutto
        </button>
        <div id="done-buttons" class="done-buttons" style="display: none;">
            <button id="mark-done" class="mark-btn mark-done" onclick="markExercise('done')">
                ✓ Fatto
            </button>
            <button id="mark-review" class="mark-btn mark-review" onclick="markExercise('review')">
                ⚠ Da rivedere
            </button>
            <button class="mark-btn mark-reset" onclick="resetExercise()">
                ↺ Ricomincia
            </button>
            <button class="mark-btn" style="background: #17a2b8;" onclick="closeExercise()">
                ✕ Chiudi
            </button>
        </div>
    </div>

    <div id="steps-wrapper">
        
        <div id="step-0" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">1</span>
                Calcolo dei grammi di acido acetico per ottenere u...
            </div>
            <div class="step-content">
                <h1>Esame 9 - Quesito 8</h1><h2>Calcolo dei grammi di acido acetico per ottenere un pH specifico</h2>

<div class="question">
<strong>TESTO DEL QUESITO:</strong><br>
Calcolare quanti grammi di acido acetico sono necessari per preparare 1 litro di soluzione acquosa di acido acetico a pH 3,5.<br><br>
<strong>Dati:</strong> Ka(CH<sub>3</sub>COOH) = 1,8 x 10<sup>-5</sup>, MM(CH<sub>3</sub>COOH) = 60 g/mol
</div>
            </div>
        </div>
        
        <div id="step-1" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">2</span>
                Analisi del problema
            </div>
            <div class="step-content">
                <h2>Analisi del problema</h2>

<p>Prima di buttarci nei calcoli, cerchiamo di capire bene cosa ci sta chiedendo questo esercizio. Abbiamo dell'acido acetico (quello dell'aceto, per intenderci) e vogliamo preparare una soluzione che abbia un pH ben preciso: 3,5.</p>

<p>L'acido acetico e' un <strong>acido debole</strong>. Questo significa che quando lo mettiamo in acqua, non si dissocia completamente come farebbe un acido forte (tipo HCl). Solo una piccola parte delle molecole di acido acetico "cede" il suo ione H<sup>+</sup> all'acqua.</p>

<p>La domanda fondamentale e': quanta concentrazione iniziale di acido acetico (che chiamiamo C) dobbiamo mettere affinche', dopo la dissociazione parziale, si liberino abbastanza ioni H<sup>+</sup> da avere pH = 3,5?</p>
            </div>
        </div>
        
        <div id="step-2" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">3</span>
                I dati che abbiamo
            </div>
            <div class="step-content">
                <h2>I dati che abbiamo</h2>

<ul>
    <li><strong>pH desiderato:</strong> 3,5</li>
    <li><strong>Ka dell'acido acetico:</strong> 1,8 x 10<sup>-5</sup> (ci dice quanto e' "forte" la tendenza a dissociarsi)</li>
    <li><strong>Massa molare:</strong> 60 g/mol</li>
    <li><strong>Volume della soluzione:</strong> 1 litro</li>
</ul>
            </div>
        </div>
        
        <div id="step-3" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">4</span>
                STEP 1: Dal pH alla concentrazione di H+
            </div>
            <div class="step-content">
                <h2>STEP 1: Dal pH alla concentrazione di H<sup>+</sup></h2>

<div class="step">
<p>Il pH e' semplicemente un modo comodo per esprimere la concentrazione degli ioni H<sup>+</sup> usando i logaritmi. La definizione e':</p>

<div class="formula">pH = -log[H<sup>+</sup>]</div>

<p>Noi sappiamo il pH (3,5) e vogliamo trovare [H<sup>+</sup>]. Quindi dobbiamo "invertire" questa formula.</p>

<p>Se pH = -log[H<sup>+</sup>], allora:</p>

<div class="formula">[H<sup>+</sup>] = 10<sup>-pH</sup> = 10<sup>-3,5</sup></div>

<p>Ora, 10<sup>-3,5</sup> non e' un numero "carino". Possiamo riscriverlo cosi':</p>

<div class="formula">10<sup>-3,5</sup> = 10<sup>-4</sup> x 10<sup>0,5</sup> = 10<sup>-4</sup> x sqrt(10) = 10<sup>-4</sup> x 3,16</div>

<p>Quindi:</p>

<div class="formula">[H<sup>+</sup>] = 3,16 x 10<sup>-4</sup> M</div>

<p>Questo significa che nella nostra soluzione finale ci sono 3,16 x 10<sup>-4</sup> moli di ioni H<sup>+</sup> per ogni litro.</p>
</div>
            </div>
        </div>
        
        <div id="step-4" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">5</span>
                STEP 2: Usare Ka per trovare la concentrazione ini...
            </div>
            <div class="step-content">
                <h2>STEP 2: Usare Ka per trovare la concentrazione iniziale C</h2>

<div class="step">
<p>L'acido acetico si dissocia secondo questa reazione:</p>

<div class="formula">CH<sub>3</sub>COOH ⇌ CH<sub>3</sub>COO<sup>-</sup> + H<sup>+</sup></div>

<p>All'inizio abbiamo solo acido acetico con concentrazione C (che e' quello che vogliamo trovare). Man mano che avviene la dissociazione, una parte dell'acido (chiamiamola x) si trasforma in ioni acetato e ioni H<sup>+</sup>.</p>

<p>All'equilibrio abbiamo:</p>
<ul>
    <li>[CH<sub>3</sub>COOH] = C - x (l'acido che rimane)</li>
    <li>[CH<sub>3</sub>COO<sup>-</sup>] = x (l'acetato formato)</li>
    <li>[H<sup>+</sup>] = x (gli ioni idrogeno liberati)</li>
</ul>

<p>Ma aspetta! Noi sappiamo gia' quanto vale [H<sup>+</sup>]! Lo abbiamo appena calcolato: e' 3,16 x 10<sup>-4</sup> M. Quindi:</p>

<div class="formula">x = [H<sup>+</sup>] = 3,16 x 10<sup>-4</sup> M</div>

<p>Ora possiamo usare l'espressione della Ka:</p>

<div class="formula">Ka = [CH<sub>3</sub>COO<sup>-</sup>][H<sup>+</sup>] / [CH<sub>3</sub>COOH]</div>

<p>Sostituendo:</p>

<div class="formula">Ka = (x)(x) / (C - x) = x<sup>2</sup> / (C - x)</div>

<p>Riscriviamo con i nostri valori numerici:</p>

<div class="formula">1,8 x 10<sup>-5</sup> = (3,16 x 10<sup>-4</sup>)<sup>2</sup> / (C - 3,16 x 10<sup>-4</sup>)</div>
</div>
            </div>
        </div>
        
        <div id="step-5" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">6</span>
                STEP 3: Risolvere per C
            </div>
            <div class="step-content">
                <h2>STEP 3: Risolvere per C</h2>

<div class="step">
<p>Prima calcoliamo il numeratore:</p>

<div class="formula">(3,16 x 10<sup>-4</sup>)<sup>2</sup> = 9,99 x 10<sup>-8</sup> ≈ 10<sup>-7</sup></div>

<p>Quindi:</p>

<div class="formula">1,8 x 10<sup>-5</sup> = 10<sup>-7</sup> / (C - 3,16 x 10<sup>-4</sup>)</div>

<p>Risolviamo per il denominatore:</p>

<div class="formula">C - 3,16 x 10<sup>-4</sup> = 10<sup>-7</sup> / (1,8 x 10<sup>-5</sup>)</div>

<div class="formula">C - 3,16 x 10<sup>-4</sup> = (10<sup>-7</sup>) / (1,8 x 10<sup>-5</sup>) = (1 / 1,8) x 10<sup>-7+5</sup> = 0,556 x 10<sup>-2</sup></div>

<div class="formula">C - 3,16 x 10<sup>-4</sup> = 5,56 x 10<sup>-3</sup> M</div>

<p>Ora troviamo C:</p>

<div class="formula">C = 5,56 x 10<sup>-3</sup> + 3,16 x 10<sup>-4</sup></div>

<div class="formula">C = 5,56 x 10<sup>-3</sup> + 0,316 x 10<sup>-3</sup> = 5,88 x 10<sup>-3</sup> M</div>

<div class="note">
<strong>Nota:</strong> Spesso in questi esercizi si fa l'approssimazione C - x ≈ C (cioe' si trascura x rispetto a C). Verifichiamo se era lecita:
<br>x/C = (3,16 x 10<sup>-4</sup>) / (5,88 x 10<sup>-3</sup>) = 0,054 = 5,4%
<br>Questa e' circa il 5%, quindi l'approssimazione sarebbe stata al limite dell'accettabilita'. Noi abbiamo fatto il calcolo esatto, che e' sempre preferibile.
</div>
</div>
            </div>
        </div>
        
        <div id="step-6" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">7</span>
                STEP 4: Dalle moli ai grammi
            </div>
            <div class="step-content">
                <h2>STEP 4: Dalle moli ai grammi</h2>

<div class="step">
<p>Ora sappiamo che la concentrazione molare dell'acido acetico deve essere C = 5,88 x 10<sup>-3</sup> M.</p>

<p>Poiche' il volume e' 1 litro, le moli di acido acetico sono:</p>

<div class="formula">n = C x V = 5,88 x 10<sup>-3</sup> mol/L x 1 L = 5,88 x 10<sup>-3</sup> mol</div>

<p>Infine, per passare dalle moli ai grammi, moltiplichiamo per la massa molare:</p>

<div class="formula">m = n x MM = 5,88 x 10<sup>-3</sup> mol x 60 g/mol</div>

<div class="formula">m = 0,353 g</div>
</div>

<div class="result">
RISPOSTA FINALE: Sono necessari circa <strong>0,35 grammi</strong> (o 350 mg) di acido acetico per preparare 1 litro di soluzione a pH 3,5.
</div>
            </div>
        </div>
        
        <div id="step-7" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">8</span>
                Riflessione sul risultato
            </div>
            <div class="step-content">
                <h2>Riflessione sul risultato</h2>

<p>Il risultato ha senso? Si! Abbiamo bisogno di pochissimo acido acetico (circa un terzo di grammo) per un litro di soluzione. Questo perche':</p>

<ol>
    <li>Un pH di 3,5 e' moderatamente acido (non fortissimo)</li>
    <li>L'acido acetico e' un acido debole, quindi anche se ne mettessimo di piu', solo una piccola frazione si dissocierebbe</li>
    <li>La Ka e' piccola (10<sup>-5</sup>), il che significa che serve relativamente poca concentrazione iniziale per raggiungere l'equilibrio desiderato</li>
</ol>
            </div>
        </div>
        
        <div id="step-8" class="step-container">
            <div class="step-header">
                <span class="step-number-badge">9</span>
                Riepilogo del metodo
            </div>
            <div class="step-content">
                <h2>Riepilogo del metodo</h2>

<table>
    <tr>
        <th>Step</th>
        <th>Operazione</th>
        <th>Risultato</th>
    </tr>
    <tr>
        <td>1</td>
        <td>Da pH calcola [H<sup>+</sup>] = 10<sup>-pH</sup></td>
        <td>[H<sup>+</sup>] = 3,16 x 10<sup>-4</sup> M</td>
    </tr>
    <tr>
        <td>2</td>
        <td>Usa Ka = [H<sup>+</sup>]<sup>2</sup> / (C - [H<sup>+</sup>]) per trovare C</td>
        <td>C = 5,88 x 10<sup>-3</sup> M</td>
    </tr>
    <tr>
        <td>3</td>
        <td>Calcola moli: n = C x V</td>
        <td>n = 5,88 x 10<sup>-3</sup> mol</td>
    </tr>
    <tr>
        <td>4</td>
        <td>Calcola grammi: m = n x MM</td>
        <td>m = 0,35 g</td>
    </tr>
</table>
            </div>
        </div>
        
    </div>
</div>

<script>
    let currentStep = 0;
    let totalSteps = 0;

    document.addEventListener('DOMContentLoaded', function() {
        totalSteps = document.querySelectorAll('.step-container').length;
        updateProgress();
        updateButtons();
    });

    function showNextStep() {
        if (currentStep < totalSteps) {
            const step = document.getElementById('step-' + currentStep);
            if (step) {
                step.classList.add('visible');
                step.scrollIntoView({ behavior: 'smooth', block: 'start' });
                currentStep++;
                updateProgress();
                updateButtons();

                if (window.parent !== window) {
                    window.parent.postMessage({type: 'stepShown', step: currentStep, total: totalSteps}, '*');
                }
            }
        }
    }

    function showAllSteps() {
        document.querySelectorAll('.step-container').forEach(function(step) {
            step.classList.add('visible');
        });
        currentStep = totalSteps;
        updateProgress();
        updateButtons();

        if (window.parent !== window) {
            window.parent.postMessage({type: 'allStepsShown'}, '*');
        }
    }

    function hideAllSteps() {
        document.querySelectorAll('.step-container').forEach(function(step) {
            step.classList.remove('visible');
        });
        currentStep = 0;
        updateProgress();
        updateButtons();
    }

    function updateProgress() {
        const pct = totalSteps > 0 ? (currentStep / totalSteps) * 100 : 0;
        const fill = document.getElementById('progress-fill');
        const text = document.getElementById('progress-text');
        if (fill) fill.style.width = pct + '%';
        if (text) text.textContent = 'Passaggio ' + currentStep + ' di ' + totalSteps;
    }

    function updateButtons() {
        const nextBtn = document.getElementById('next-btn');
        const allBtn = document.getElementById('all-btn');
        const doneButtons = document.getElementById('done-buttons');

        if (currentStep >= totalSteps) {
            if (nextBtn) nextBtn.style.display = 'none';
            if (allBtn) allBtn.style.display = 'none';
            if (doneButtons) doneButtons.style.display = 'flex';
        } else {
            if (nextBtn) nextBtn.style.display = 'block';
            if (allBtn) allBtn.style.display = 'block';
            if (doneButtons) doneButtons.style.display = 'none';
        }
    }

    function markExercise(status) {
        // Salva in localStorage
        const exerciseId = window.location.pathname.split('/').pop().replace('.html', '');
        let progress = JSON.parse(localStorage.getItem('chemportal_progress') || '{}');
        if (!progress.exercises) progress.exercises = {};
        progress.exercises[exerciseId] = status;
        localStorage.setItem('chemportal_progress', JSON.stringify(progress));

        // Feedback visivo
        const btn = status === 'done' ? document.getElementById('mark-done') : document.getElementById('mark-review');
        const otherBtn = status === 'done' ? document.getElementById('mark-review') : document.getElementById('mark-done');

        btn.classList.add('selected');
        otherBtn.classList.remove('selected');

        // Notifica parent
        if (window.parent !== window) {
            window.parent.postMessage({type: 'exerciseMarked', status: status, id: exerciseId}, '*');
        }
    }

    function resetExercise() {
        hideAllSteps();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Messaggi dal parent
    window.addEventListener('message', function(e) {
        if (e.data.type === 'showNext') showNextStep();
        else if (e.data.type === 'showAll') showAllSteps();
        else if (e.data.type === 'hideAll') hideAllSteps();
    });

    function closeExercise() {
        if (window.parent !== window) {
            // Siamo in iframe, chiedi al parent di chiudere
            window.parent.postMessage({type: 'closeModal'}, '*');
        } else {
            // Standalone: torna alla pagina esercizi
            const path = window.location.pathname;
            if (path.includes('/content/soluzioni/')) {
                window.location.href = '../../esercizi.html';
            } else {
                window.history.back();
            }
        }
    }
</script>
</body>
</html>
